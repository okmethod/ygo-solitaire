import{a4 as ie,b as fe,a5 as Q,s as N,h as x,a6 as ue,a as le,q as X,R as te,r as se,c as ve,d as z,e as R,i as y,a7 as de,f as W,g as Z,p as _e,a8 as H,a9 as $,aa as oe,ab as G,ac as D,ad as J,ae as L,n as ce,a2 as K,af as j,ag as he,ah as pe,ai as me,aj as Ee,ak as be,al as Ae,am as Ie,an as ee,F as Te,ao as xe,ap as Se}from"./DKjaHnf_.js";import{l as ge}from"./CXYPiKii.js";function Re(a,e){return e}function ye(a,e,r,i){for(var f=[],s=e.length,v=0;v<s;v++)pe(e[v].e,f,!0);var o=s>0&&f.length===0&&r!==null;if(o){var E=r.parentNode;me(E),E.append(r),i.clear(),T(a,e[0].prev,e[s-1].next)}Ee(f,()=>{for(var h=0;h<s;h++){var _=e[h];o||(i.delete(_.k),T(a,_.prev,_.next)),be(_.e,!o)}})}function He(a,e,r,i,f,s=null){var v=a,o={flags:e,items:new Map,first:null},E=(e&Q)!==0;if(E){var h=a;v=x?N(ue(h)):h.appendChild(ie())}x&&le();var _=null,S=!1,l=te(()=>{var d=r();return j(d)?d:d==null?[]:$(d)});fe(()=>{var d=X(l),n=d.length;if(S&&n===0)return;S=n===0;let A=!1;if(x){var p=se(v)===ve;p!==(n===0)&&(v=z(),N(v),R(!1),A=!0)}if(x){for(var m=null,b,c=0;c<n;c++){if(y.nodeType===8&&y.data===de){v=y,A=!0,R(!1);break}var u=d[c],t=i(u,c);b=ae(y,o,m,null,u,t,c,f,e,r),o.items.set(t,b),m=b}n>0&&N(z())}x||ke(d,o,v,f,e,i,r),s!==null&&(n===0?_?W(_):_=Z(()=>s(v)):_!==null&&_e(_,()=>{_=null})),A&&R(!0),X(l)}),x&&(v=y)}function ke(a,e,r,i,f,s,v){var F,V,Y,B;var o=(f&he)!==0,E=(f&(D|L))!==0,h=a.length,_=e.items,S=e.first,l=S,d,n=null,A,p=[],m=[],b,c,u,t;if(o)for(t=0;t<h;t+=1)b=a[t],c=s(b,t),u=_.get(c),u!==void 0&&((F=u.a)==null||F.measure(),(A??(A=new Set)).add(u));for(t=0;t<h;t+=1){if(b=a[t],c=s(b,t),u=_.get(c),u===void 0){var re=l?l.e.nodes_start:r;n=ae(re,e,n,n===null?e.first:n.next,b,c,t,i,f,v),_.set(c,n),p=[],m=[],l=n.next;continue}if(E&&we(u,b,t,f),(u.e.f&H)!==0&&(W(u.e),o&&((V=u.a)==null||V.unfix(),(A??(A=new Set)).delete(u))),u!==l){if(d!==void 0&&d.has(u)){if(p.length<m.length){var w=m[0],I;n=w.prev;var O=p[0],C=p[p.length-1];for(I=0;I<p.length;I+=1)P(p[I],w,r);for(I=0;I<m.length;I+=1)d.delete(m[I]);T(e,O.prev,C.next),T(e,n,O),T(e,C,w),l=w,n=C,t-=1,p=[],m=[]}else d.delete(u),P(u,l,r),T(e,u.prev,u.next),T(e,u,n===null?e.first:n.next),T(e,n,u),n=u;continue}for(p=[],m=[];l!==null&&l.k!==c;)(l.e.f&H)===0&&(d??(d=new Set)).add(l),m.push(l),l=l.next;if(l===null)continue;u=l}p.push(u),n=u,l=u.next}if(l!==null||d!==void 0){for(var g=d===void 0?[]:$(d);l!==null;)(l.e.f&H)===0&&g.push(l),l=l.next;var q=g.length;if(q>0){var ne=(f&Q)!==0&&h===0?r:null;if(o){for(t=0;t<q;t+=1)(Y=g[t].a)==null||Y.measure();for(t=0;t<q;t+=1)(B=g[t].a)==null||B.fix()}ye(e,g,ne,_)}}o&&oe(()=>{var U;if(A!==void 0)for(u of A)(U=u.a)==null||U.apply()}),G.first=e.first&&e.first.e,G.last=n&&n.e}function we(a,e,r,i){(i&D)!==0&&J(a.v,e),(i&L)!==0?J(a.i,r):a.i=r}function ae(a,e,r,i,f,s,v,o,E,h){var _=(E&D)!==0,S=(E&Ae)===0,l=_?S?ce(f):K(f):f,d=(E&L)===0?v:K(v),n={i:d,v:l,k:s,a:null,e:null,prev:r,next:i};try{return n.e=Z(()=>o(a,l,d,h),x),n.e.prev=r&&r.e,n.e.next=i&&i.e,r===null?e.first=n:(r.next=n,r.e.next=n.e),i!==null&&(i.prev=n,i.e.prev=n.e),n}finally{}}function P(a,e,r){for(var i=a.next?a.next.e.nodes_start:r,f=e?e.e.nodes_start:r,s=a.e.nodes_start;s!==i;){var v=Ie(s);f.before(s),s=v}}function T(a,e,r){e===null?a.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function M(a,e,r){if(a.multiple){if(e==null)return;if(!j(e))return xe();for(var i of a.options)i.selected=e.includes(k(i));return}for(i of a.options){var f=k(i);if(Se(f,e)){i.selected=!0;return}}(!r||e!==void 0)&&(a.selectedIndex=-1)}function Ce(a,e){let r=!0;ee(()=>{e&&M(a,Te(e),r),r=!1;var i=new MutationObserver(()=>{var f=a.__value;M(a,f)});return i.observe(a,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{i.disconnect()}})}function Me(a,e,r=e){var i=!0;ge(a,"change",f=>{var s=f?"[selected]":":checked",v;if(a.multiple)v=[].map.call(a.querySelectorAll(s),k);else{var o=a.querySelector(s)??a.querySelector("option:not([disabled])");v=o&&k(o)}r(v)}),ee(()=>{var f=e();if(M(a,f,i),i&&f===void 0){var s=a.querySelector(":checked");s!==null&&(f=k(s),r(f))}a.__value=f,i=!1}),Ce(a)}function k(a){return"__value"in a?a.__value:a.value}export{Re as a,Me as b,He as e,Ce as i,M as s};
