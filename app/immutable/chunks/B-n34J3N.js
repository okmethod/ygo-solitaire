import{e as s,u as _,D as d,F as o,G as c}from"./CinUWrNX.js";import{l as m}from"./CLOOnzvv.js";function l(e,u,i){if(e.multiple){if(u==null)return;if(!d(u))return o();for(var r of e.options)r.selected=u.includes(t(r));return}for(r of e.options){var a=t(r);if(c(a,u)){r.selected=!0;return}}(!i||u!==void 0)&&(e.selectedIndex=-1)}function b(e,u){let i=!0;s(()=>{u&&l(e,_(u),i),i=!1;var r=new MutationObserver(()=>{var a=e.__value;l(e,a)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function h(e,u,i=u){var r=!0;m(e,"change",a=>{var n=a?"[selected]":":checked",f;if(e.multiple)f=[].map.call(e.querySelectorAll(n),t);else{var v=e.querySelector(n)??e.querySelector("option:not([disabled])");f=v&&t(v)}i(f)}),s(()=>{var a=u();if(l(e,a,r),r&&a===void 0){var n=e.querySelector(":checked");n!==null&&(a=t(n),i(a))}e.__value=a,r=!1}),b(e)}function t(e){return"__value"in e?e.__value:e.value}export{h as b,b as i,l as s};
