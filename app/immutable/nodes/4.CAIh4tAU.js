import{l as $,c as aa,C as ta,g as ea,a as ra,i as sa}from"../chunks/BD-KjtcG.js";import{f as w,a as f,c as da,t as na}from"../chunks/LOn0ekQa.js";import{j as R,ar as ia,V as oa,m as ca,t as q,l as U,u as s,v as d,q as o,y as O,x as r,k as la,o as ua,as as va}from"../chunks/DKjaHnf_.js";import{s as T,d as ma}from"../chunks/CXYPiKii.js";import{i as l}from"../chunks/CZBA5y4x.js";import{n as fa}from"../chunks/BK0WVf_Y.js";import{e as ga}from"../chunks/CGD6_aVM.js";import{s as J}from"../chunks/dG0sfOGW.js";import{p as _a}from"../chunks/BFE1hTON.js";const ha=({params:z})=>{const{deckId:a}=z,{deckData:M,uniqueCardIds:I}=$(a);return{deckId:a,deckData:M,uniqueCardIds:I}},Ha=Object.freeze(Object.defineProperty({__proto__:null,load:ha},Symbol.toStringTag,{value:"Module"}));var xa=w('<span class="badge w-fit preset-tonal-surface text-sm"> </span>'),ba=w('<h3 class="md:col-span-2 h4 flex flex-col min-w-fit"><!> <!></h3>'),ya=w('<div class="relative"><div><!></div> <!></div>'),pa=w("<div></div>"),Ca=w("<section><div><!> <!></div></section>");function k(z,a){R(a,!0);let M=_a(a,"borderColor",3,"border-gray-400"),I=ia(oa({isInitialized:!1}));aa.subscribe(n=>{ca(I,{isInitialized:n.isInitialized},!0)});function G(n){if(o(I).isInitialized)return ea(n)}const g=O(()=>a.title||a.cardCount!==void 0);var _=Ca(),h=d(_),y=d(h);{var B=n=>{var u=ba(),x=d(u);{var b=i=>{var c=na();q(()=>T(c,a.title)),f(i,c)};l(x,i=>{a.title&&i(b)})}var S=s(x,2);{var p=i=>{var c=xa(),C=d(c);r(c),q(()=>T(C,`${a.cardCount??""}枚`)),f(i,c)};l(S,i=>{a.cardCount!==void 0&&i(p)})}r(u),f(n,u)};l(y,n=>{o(g)&&n(B)})}var H=s(y,2);{var V=n=>{var u=pa();ga(u,21,()=>a.cards,x=>x.cardData.id,(x,b)=>{var S=da();const p=O(()=>G(o(b).cardData.id));var i=la(S);{var c=C=>{var j=ya(),D=d(j),A=d(D);ta(A,{get card(){return o(p)},size:"medium",showDetailOnClick:!0}),r(D);var L=s(D,2);{var F=P=>{ra(P,{get count(){return o(b).quantity},colorClasses:"bg-primary-200 text-primary-900"})};l(L,P=>{o(b).quantity>1&&P(F)})}r(j),q(()=>J(D,1,`border-2 ${M()??""} rounded-lg shadow-md overflow-hidden`)),f(C,j)};l(i,C=>{o(p)&&C(c)})}f(x,S)}),r(u),q(()=>J(u,1,`${o(g)?"md:col-span-10":""} flex-1 flex gap-2 flex-wrap`)),f(n,u)};l(H,n=>{a.cards.length>0&&n(V)})}r(h),r(_),q(()=>J(h,1,`badge preset-tonal-surface mb-3 grid items-center gap-4 p-2 rounded-lg shadow-md ${o(g)?"grid-cols-1 md:grid-cols-12":"grid-cols-1"}`)),f(z,_),U()}function Da(z,a){fa(`/simulator/${a.data.deckId}`)}var ka=w('<div class="mb-6 p-4 bg-surface-100-800-token rounded-lg"><p class="text-sm opacity-75"> </p></div>'),qa=w('<div class="container mx-auto p-4"><header class="my-6"><div class="flex items-center space-x-8 mb-4"><h2 class="h3"> </h2> <button class="btn preset-tonal rounded-full shadow-lg text-lg px-4 py-2">決闘開始</button></div></header> <!> <div class="space-y-6"><hr class="my-8 border-t border-gray-300"/> <div class="mb-4 flex items-center space-x-4"><h2 class="h3">メインデッキ</h2> <span class="badge preset-tonal-surface text-sm shadow-md"> </span></div> <!> <!> <!> <hr class="my-8 border-t border-gray-300"/> <div class="mb-4 flex items-center space-x-4"><h2 class="h3">エクストラデッキ</h2> <span class="badge preset-tonal-surface text-sm shadow-md"> </span></div> <!> <!> <!> <!> <hr class="my-8 border-t border-gray-300"/></div></div>');function La(z,a){R(a,!0);const{monsters:M,spells:I,traps:G}=a.data.deckData.mainDeck,{fusion:g,synchro:_,xyz:h,link:y}=a.data.deckData.extraDeck;ua(async()=>{await sa(a.data.uniqueCardIds)});var B=qa(),H=d(B),V=d(H),n=d(V),u=d(n,!0);r(n);var x=s(n,2);x.__click=[Da,a],r(V),r(H);var b=s(H,2);{var S=t=>{var e=ka(),v=d(e),m=d(v,!0);r(v),r(e),q(()=>T(m,a.data.deckData.description)),f(t,e)};l(b,t=>{a.data.deckData.description&&t(S)})}var p=s(b,2),i=s(d(p),2),c=s(d(i),2),C=d(c);r(c),r(i);var j=s(i,2);k(j,{title:"モンスター",get cardCount(){return a.data.deckData.stats.monsterCount},get cards(){return M}});var D=s(j,2);k(D,{title:"魔法",get cardCount(){return a.data.deckData.stats.spellCount},get cards(){return I}});var A=s(D,2);k(A,{title:"罠",get cardCount(){return a.data.deckData.stats.trapCount},get cards(){return G}});var L=s(A,4),F=s(d(L),2),P=d(F);r(F),r(L);var K=s(L,2);{var W=t=>{const e=O(()=>g.reduce((v,m)=>v+m.quantity,0));k(t,{title:"融合",get cardCount(){return o(e)},get cards(){return g}})};l(K,t=>{g.length>0&&t(W)})}var N=s(K,2);{var X=t=>{const e=O(()=>_.reduce((v,m)=>v+m.quantity,0));k(t,{title:"シンクロ",get cardCount(){return o(e)},get cards(){return _}})};l(N,t=>{_.length>0&&t(X)})}var Q=s(N,2);{var Y=t=>{const e=O(()=>h.reduce((v,m)=>v+m.quantity,0));k(t,{title:"エクシーズ",get cardCount(){return o(e)},get cards(){return h}})};l(Q,t=>{h.length>0&&t(Y)})}var Z=s(Q,2);{var E=t=>{const e=O(()=>y.reduce((v,m)=>v+m.quantity,0));k(t,{title:"リンク",get cardCount(){return o(e)},get cards(){return y}})};l(Z,t=>{y.length>0&&t(E)})}va(2),r(p),r(B),q(t=>{T(u,a.data.deckData.name),T(C,`${a.data.deckData.stats.monsterCount+a.data.deckData.stats.spellCount+a.data.deckData.stats.trapCount}枚`),T(P,`${t??""}枚`)},[()=>g.reduce((t,e)=>t+e.quantity,0)+_.reduce((t,e)=>t+e.quantity,0)+h.reduce((t,e)=>t+e.quantity,0)+y.reduce((t,e)=>t+e.quantity,0)]),f(z,B),U()}ma(["click"]);export{La as component,Ha as universal};
