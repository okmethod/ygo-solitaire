import{g as oa,d as ca,C as la,a as va,b as ua,i as ma}from"../chunks/BMDz8R2p.js";import{f as w,a as m,c as fa,t as ga}from"../chunks/fttJYjWf.js";import{o as _a}from"../chunks/DgC7Iw_E.js";import{a4 as E,aq as ha,ah as pa,a7 as xa,t as y,a6 as $,s as r,c as e,g as v,ar as Z,r as t,a5 as Ca}from"../chunks/CinUWrNX.js";import{s as D,d as ba}from"../chunks/CLOOnzvv.js";import{i as c}from"../chunks/zKTDKC1X.js";import{n as ka}from"../chunks/Dic9zh82.js";import{e as ya}from"../chunks/2zu3kIHl.js";import{s as A}from"../chunks/xcxp5XA3.js";import{p as Da}from"../chunks/DIRs0Bkg.js";const wa=({params:b})=>{const{deckId:a}=b,{deckData:z,uniqueCardIds:k}=oa.loadDeck(a);return{deckId:a,deckData:z,uniqueCardIds:k}},Ka=Object.freeze(Object.defineProperty({__proto__:null,load:wa},Symbol.toStringTag,{value:"Module"}));var za=w('<span class="badge w-fit preset-tonal-surface text-sm"> </span>'),Ia=w('<h3 class="md:col-span-2 h4 flex flex-col min-w-fit"><!> <!></h3>'),qa=w('<div class="relative"><div><!></div> <!></div>'),Sa=w("<div></div>"),Oa=w("<section><div><!> <!></div></section>");function C(b,a){E(a,!0);let z=Da(a,"borderColor",3,"border-gray-400"),k=ha(pa({isInitialized:!1}));ca.subscribe(d=>{xa(k,{isInitialized:d.isInitialized},!0)});function j(d){if(v(k).isInitialized)return va(d)}const I=Z(()=>a.title||a.cardCount!==void 0);var q=Oa(),S=e(q),T=e(S);{var M=d=>{var o=Ia(),u=e(o);{var f=n=>{var i=ga();y(()=>D(i,a.title)),m(n,i)};c(u,n=>{a.title&&n(f)})}var g=r(u,2);{var _=n=>{var i=za(),l=e(i);t(i),y(()=>D(l,`${a.cardCount??""}枚`)),m(n,i)};c(g,n=>{a.cardCount!==void 0&&n(_)})}t(o),m(d,o)};c(T,d=>{v(I)&&d(M)})}var B=r(T,2);{var F=d=>{var o=Sa();ya(o,21,()=>a.cards,u=>u.cardData.id,(u,f)=>{var g=fa();const _=Z(()=>j(v(f).cardData.id));var n=Ca(g);{var i=l=>{var h=qa(),p=e(h),O=e(p);la(O,{get card(){return v(_)},size:"medium",showDetailOnClick:!0}),t(p);var H=r(p,2);{var L=x=>{ua(x,{get count(){return v(f).quantity},colorClasses:"bg-primary-200 text-primary-900"})};c(H,x=>{v(f).quantity>1&&x(L)})}t(h),y(()=>A(p,1,`border-2 ${z()??""} rounded-lg shadow-md overflow-hidden`)),m(l,h)};c(n,l=>{v(_)&&l(i)})}m(u,g)}),t(o),y(()=>A(o,1,`${v(I)?"md:col-span-10":""} flex-1 flex gap-2 flex-wrap`)),m(d,o)};c(B,d=>{a.cards.length>0&&d(F)})}t(S),t(q),y(()=>A(S,1,`badge preset-tonal-surface mb-3 grid items-center gap-4 p-2 rounded-lg shadow-md ${v(I)?"grid-cols-1 md:grid-cols-12":"grid-cols-1"}`)),m(b,q),$()}function Ta(b,a){ka(`/simulator/${a.data.deckId}`)}var ja=w('<div class="container mx-auto p-4"><header class="my-6"><div class="flex items-center space-x-8 mb-4"><h2 class="h3"> </h2> <button class="btn preset-tonal rounded-full shadow-lg text-lg px-4 py-2">決闘開始</button></div></header> <div class="mb-6 p-4 bg-surface-100-800-token rounded-lg"><p class="text-sm opacity-75"> </p></div> <hr class="my-8 border-t border-gray-300"/> <div class="space-y-6"><div class="mb-4 flex items-center space-x-4"><h2 class="h3">メインデッキ</h2> <span class="badge preset-tonal-surface text-sm shadow-md"> </span></div> <!> <!> <!> <div class="mb-4 flex items-center space-x-4"><h2 class="h3">エクストラデッキ</h2> <span class="badge preset-tonal-surface text-sm shadow-md"> </span></div> <!> <!> <!> <!></div></div>');function Qa(b,a){E(a,!0);const z=a.data.deckData.name,k=a.data.deckData.description,{mainDeckCount:j,monsterCount:I,spellCount:q,trapCount:S,extraDeckCount:T,fusionCount:M,synchroCount:B,xyzCount:F,linkCount:d}=a.data.deckData.stats,{monsters:o,spells:u,traps:f}=a.data.deckData.mainDeck,{fusion:g,synchro:_,xyz:n,link:i}=a.data.deckData.extraDeck;_a(async()=>{await ma(a.data.uniqueCardIds)});var l=ja(),h=e(l),p=e(h),O=e(p),H=e(O,!0);t(O);var L=r(O,2);L.__click=[Ta,a],t(p),t(h);var x=r(h,2),G=e(x),aa=e(G,!0);t(G),t(x);var J=r(x,4),N=e(J),K=r(e(N),2),ta=e(K);t(K),t(N);var Q=r(N,2);C(Q,{title:"モンスター",get cardCount(){return I},get cards(){return o}});var R=r(Q,2);C(R,{title:"魔法",get cardCount(){return q},get cards(){return u}});var U=r(R,2);C(U,{title:"罠",get cardCount(){return S},get cards(){return f}});var P=r(U,2),V=r(e(P),2),ea=e(V);t(V),t(P);var W=r(P,2);{var ra=s=>{C(s,{title:"融合",get cardCount(){return M},get cards(){return g}})};c(W,s=>{g.length>0&&s(ra)})}var X=r(W,2);{var sa=s=>{C(s,{title:"シンクロ",get cardCount(){return B},get cards(){return _}})};c(X,s=>{_.length>0&&s(sa)})}var Y=r(X,2);{var da=s=>{C(s,{title:"エクシーズ",get cardCount(){return F},get cards(){return n}})};c(Y,s=>{n.length>0&&s(da)})}var na=r(Y,2);{var ia=s=>{C(s,{title:"リンク",get cardCount(){return d},get cards(){return i}})};c(na,s=>{i.length>0&&s(ia)})}t(J),t(l),y(()=>{D(H,z),D(aa,k),D(ta,`${j??""}枚`),D(ea,`${T??""}枚`)}),m(b,l),$()}ba(["click"]);export{Qa as component,Ka as universal};
