# ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ã®è¨­è¨ˆæ–¹é‡ã¨æ§‹é€ ã«é–¢ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ ¼ç´ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ“„ ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

### [overview.md](./overview.md)
Clean Architectureã®æ¦‚è¦ã¨è¨­è¨ˆåŸå‰‡

**å†…å®¹**:
- Clean Architectureï¼ˆ3å±¤æ§‹é€ ï¼‰
- ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹æˆï¼ˆDomain/Application/Presentationï¼‰
- ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ï¼ˆUnidirectionalï¼‰
- è¨­è¨ˆåŸå‰‡ï¼ˆä¸å¤‰æ€§ã€Command Patternï¼‰
- ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ 
- æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

**èª­ã‚€ã¹ãäºº**: å…¨é–‹ç™ºè€…ï¼ˆå¿…èª­ï¼‰

---

### [testing-strategy.md](./testing-strategy.md)
ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ã¨å®Ÿè£…æ–¹æ³•

**å†…å®¹**:
- ãƒ†ã‚¹ãƒˆãƒ”ãƒ©ãƒŸãƒƒãƒ‰
- Unit Testsï¼ˆ204 testsï¼‰
- Integration Tests
- E2E Testsï¼ˆ16 testsï¼‰
- ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™ï¼ˆDomain Layer 80%ä»¥ä¸Šï¼‰
- ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒ•ãƒ­ãƒ¼

**èª­ã‚€ã¹ãäºº**: å®Ÿè£…è€…ã€ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼

---

## ğŸ¯ ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ç›®çš„

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã¯ï¼Ÿ

ã€Œã©ã®ã‚ˆã†ã«å®Ÿè£…ã™ã‚‹ã‹ã€ã‚’è¨˜è¿°ã—ãŸã€**æŠ€è¡“çš„ãªè¨­è¨ˆæ–¹é‡**ã€‚

### ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ã¨ã®é•ã„

| ç¨®é¡ | å ´æ‰€ | ä¾‹ |
|------|------|---|
| **ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜** | `domain/` | "ãƒ‰ãƒ­ãƒ¼ãƒ•ã‚§ã‚¤ã‚ºã§ã‚«ãƒ¼ãƒ‰ã‚’1æšå¼•ã" |
| **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£** | `architecture/` | "DrawCardCommandã§Immer.jsã‚’ä½¿ã†" |
| **å®Ÿè£…ã‚³ãƒ¼ãƒ‰** | `src/` | `produce(state, draft => ...)` |

## ğŸ—ï¸ Clean Architectureï¼ˆ3å±¤æ§‹é€ ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Presentation Layer (UI)              â”‚
â”‚    Svelte 5 Components + Skeleton UI        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ User Actions
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Application Layer (Use Cases)          â”‚
â”‚    Commands + GameFacade + Stores           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ Domain Operations
                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Domain Layer (Core Logic)            â”‚
â”‚    GameState + Rules (Pure TypeScript)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

è©³ç´°ã¯[overview.md](./overview.md)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ“– èª­ã‚€é †åº

### 1. å®Ÿè£…é–‹å§‹å‰

[overview.md](./overview.md)ã‚’èª­ã‚“ã§ãã ã•ã„ï¼š
- ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹æˆã‚’ç†è§£
- ä¾å­˜é–¢ä¿‚ã®æ–¹å‘ã‚’æŠŠæ¡
- è¨­è¨ˆåŸå‰‡ã‚’å­¦ç¿’

### 2. ãƒ†ã‚¹ãƒˆå®Ÿè£…å‰

[testing-strategy.md](./testing-strategy.md)ã‚’èª­ã‚“ã§ãã ã•ã„ï¼š
- ãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹ã‚’ç†è§£
- ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™ã‚’ç¢ºèª
- ãƒ¢ãƒƒã‚¯æˆ¦ç•¥ã‚’å­¦ç¿’

## ğŸ”„ æ›´æ–°ã‚¿ã‚¤ãƒŸãƒ³ã‚°

### ã„ã¤æ›´æ–°ã™ã¹ãã‹ï¼Ÿ

âœ… **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’å¤§ããå¤‰æ›´ã—ãŸæ™‚**
- ä¾‹: æ–°ã—ã„ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’è¿½åŠ  â†’ overview.mdã«è¿½åŠ 

âœ… **æ–°ã—ã„è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å°å…¥ã—ãŸæ™‚**
- ä¾‹: Repository Patternã‚’è¿½åŠ  â†’ overview.mdã«è¿½åŠ 

âœ… **ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ãŒå¤‰ã‚ã£ãŸæ™‚**
- ä¾‹: Visual Regression Testingã‚’å°å…¥ â†’ testing-strategy.mdã«è¿½åŠ 

âŒ **è»½å¾®ãªå®Ÿè£…ã®è©³ç´°**
- ä¾‹: é–¢æ•°ã®å¼•æ•°ãŒå¤‰ã‚ã£ãŸ â†’ architecture/ã¯å¤‰æ›´ä¸è¦

## ğŸ“ è¨­è¨ˆåŸå‰‡

### 1. ä¸å¤‰æ€§ï¼ˆImmutabilityï¼‰

Immer.js + TypeScript `readonly`ä¿®é£¾å­ã§çŠ¶æ…‹ã‚’ä¿è­·

### 2. Command Pattern

ã™ã¹ã¦ã®æ“ä½œã‚’Commandã‚¯ãƒ©ã‚¹ã§å®Ÿè£…

### 3. å˜æ–¹å‘ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
User Action â†’ Command â†’ State Update â†’ Re-render
```

### 4. ãƒ¬ã‚¤ãƒ¤ãƒ¼å¢ƒç•Œã®éµå®ˆ

- Domain Layerã¯Svelteä¾å­˜ã‚³ãƒ¼ãƒ‰ã‚’æŒãŸãªã„
- Presentation Layerã¯GameFacadeçµŒç”±ã§ã®ã¿æ“ä½œ

è©³ç´°ã¯[overview.md](./overview.md)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ§ª ãƒ†ã‚¹ãƒˆæ–¹é‡

### ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™

- **Domain Layer**: 80%ä»¥ä¸Šå¿…é ˆ
- **Application Layer**: 70%ä»¥ä¸Šæ¨å¥¨
- **Presentation Layer**: E2Eã§ã‚«ãƒãƒ¼

### ç¾åœ¨ã®ãƒ†ã‚¹ãƒˆæ•°

- Unit Tests: 204/204 passing
- E2E Tests: 16 passing

è©³ç´°ã¯[testing-strategy.md](./testing-strategy.md)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ“ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¿½åŠ ã‚¬ã‚¤ãƒ‰

### æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã™ã‚‹å ´åˆ

```bash
# ä¾‹: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã®æ–¹é‡ã‚’è¿½åŠ 
touch docs/architecture/performance.md
```

è¿½åŠ å¾Œã€ã“ã®README.mdã®ã€Œãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚

### æ¨å¥¨ã•ã‚Œã‚‹è¿½åŠ ãƒˆãƒ”ãƒƒã‚¯

å°†æ¥çš„ã«ä»¥ä¸‹ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ï¼š

- `state-management.md`: Svelte Storesã®è©³ç´°è¨­è¨ˆ
- `error-handling.md`: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°æˆ¦ç•¥
- `performance.md`: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–æ–¹é‡
- `deployment.md`: ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆæˆ¦ç•¥

## ğŸ”— é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª](../) - docs/å…¨ä½“ã®ç›®æ¬¡
- [adr/](../adr/) - è¨­è¨ˆåˆ¤æ–­ã®è¨˜éŒ²
- [development/](../development/) - é–‹ç™ºã‚¬ã‚¤ãƒ‰
- [domain/](../domain/) - ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜

## ğŸ“š å‚è€ƒè³‡æ–™

- Clean Architecture (Robert C. Martin)
- [Immer.jså…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://immerjs.github.io/immer/)
- [Svelte 5å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://svelte.dev/)
